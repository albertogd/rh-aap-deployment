[automationcontroller]
{% for controller in aap_automation_controllers %}
{{ controller }}
{% endfor %}

[automationcontroller:vars]
peers=execution_nodes


# Execution Nodes
# There are two valid node_types that can be assigned for this group.
# A node_type=hop implies that the node will forward jobs to an execution node.
# A node_type=execution implies that the node will be able to run jobs.
# If you do not define the node_type, it defaults to execution.
#
# hop.example        node_type=hop
# execution.example  node_type=execution
# execution2.example <- this will default to execution
[execution_nodes]
{% for execution_nodes in aap_execution_nodes %}
{{ execution_nodes }}  node_type=execution
{% endfor %}

{% for execution_nodes in aap_hop_nodes %}
{{ hop_nodes }}  node_type=hop
{% endfor %}

[automationhub]

[database]
{{ aap_pg_host }}

[servicescatalog_workers]

# Single Sign-On
# If sso_redirect_host is set, that will be used for application to connect to
# SSO for authentication. This must be reachable from client machines.
#
# ssohost.example sso_redirect_host=<host/ip>
[sso]

[all:vars]
admin_password=''

pg_host="{{ aap_pg_host }}"
pg_port="{{ aap_pg_port }}"

pg_database="{{ aap_pg_database }}"
pg_username="{{ aap_pg_username }}"
pg_password="{{ aap_pg_password }}
pg_sslmode='prefer'  # set to 'verify-full' for client-side enforced SSL

# Execution Environment Configuration
# Credentials for container registry to pull execution environment images from,
# registry_username and registry_password are required for registry.redhat.io
registry_url='registry.redhat.io'
registry_username="{{ aap_registry_username }}"
registry_password="{{ aap_registry_password }}"

# Certificates
web_server_ssl_cert="{{ aap_controller_cert_path }}"
web_server_ssl_key="{{ aap_controller_certkey_path }}"